/*! VKFill - v0.0.1 - 2013-05-02
* http://nergal.github.io/vkfill
* Copyright (c) 2013 nergal; Licensed  */
(function(t){"use strict";var e=!0,o=function(t){this.post=t};o.prototype.calculate=function(){return 42},o.prototype.getTextInfo=function(){return"some text"};var i={};i.link=function(t){this.url=null,t||(this.url=t.href,this.is_external=!!t.href.match("/away.php"),this.is_group=null!==t.getAttribute("mention_id"),this.has_fake_continous="mem_link"===t.getAttribute("class"))},i.post=function(t){if(this.id=null,t){this._dom=t,this.id=t.id;var e=geByClass1("author",t);this.poster_id=e.dataSet?e.dataSet.fromId:null,this.from_group=0>parseInt(this.poster_id,10),this.is_repost=geByClass1("published_by",t)!==void 0,this.links=this._fillLinks(t),this.text=this._fillText(t),this.images=this._fillImages(t)}},i.post.prototype.fadeOut=function(){setStyle(this._dom,{position:"relative",opacity:"0.3","-webkit-filter":"blur(5px)"})},i.post.prototype.fadeIn=function(){setStyle(this._dom,{position:"relative",opacity:"1","-webkit-filter":"none"})},i.post.prototype.ban=function(){e&&this.fadeOut()},i.post.prototype._fillLinks=function(t){for(var e=geByTag("a",t),o=[],s=0,n=e.length;n>s;s++)o.push(new i.link(e[s]));return o},i.post.prototype._fillText=function(t){return geByClass1("wall_post_text",t)},i.post.prototype._fillImages=function(t){return geByClass1("page_post_sized_thumbs",t)},i.post.prototype._debugText=function(){var t=new o(this);return t.getTextInfo()},i.post.prototype.getGrade=function(){var t=new o(this);return t.calculate()};var s=function(){var t=ge("feed_wall"),e=geByClass("post",t);this.posts=[];for(var o=0,s=e.length;s>o;o++)this.posts.push(new i.post(e[o]))};if(s.prototype.appendLabel=function(t,e){var o={"font-weight":"bold",position:"absolute",top:0,right:0,padding:"0.3em 1em","background-color":"#C2BBFF","border-radius":"0 0 7px 7px",color:"#ffffff"},i=ce("span",{innerHTML:e},o),s=ge(t);setStyle(s,{position:"relative"}),s.appendChild(i)},s.prototype.proceed=function(t){for(var o,i,s=0,n=this.posts.length;n>s;s++)i=this.posts[s],e===!0&&(o=i._debugText(),this.appendLabel(i.id,o)),i.getGrade()>t&&i.ban()},"vk.com"===t.location.host){var n=new s;n.proceed(25)}})(document);